{"ast":null,"code":"import _slicedToArray from\"D:/documents/js/time-management-tool/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDebugValue,useEffect,useRef,useState}from\"react\";import Menu from\"../menu\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GroupSetting=function GroupSetting(_ref){var data=_ref.data,setData=_ref.setData,settingprofile=_ref.settingprofile,setsettingprofile=_ref.setsettingprofile,rerenderStatus=_ref.rerenderStatus,colorstatus=_ref.colorstatus;useEffect(function(){if(localStorage.getItem(\"user\")!=null){setData(JSON.parse(localStorage.getItem(\"user\")));}},[\"a\"]);useEffect(function(){if(rerenderStatus.current==false){return;}else{localStorage.setItem('user',JSON.stringify(data));rerenderStatus.current=false;}},[data]);useEffect(function(){if(localStorage.getItem(\"setting\")!=null){setsettingprofile(JSON.parse(localStorage.getItem(\"setting\")));}},[\"a\"]);var cachesetting=new Object(settingprofile);var grouplist=data.map(function(item){return item.group;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),selectedgroup=_useState2[0],setselectedgroup=_useState2[1];var groupinsetting=cachesetting.group.map(function(d){return d.name;});var ChangeGroup=function ChangeGroup(e){setselectedgroup(e.target.value);};var _useState3=useState(\"#ffffff\"),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setcolor=_useState4[1];var Changecolor=function Changecolor(e){setcolor(e.target.value);var indexofgroup=groupinsetting.indexOf(selectedgroup);if(indexofgroup!=-1){cachesetting.group[indexofgroup].color=color;}else{cachesetting.group.push({\"name\":selectedgroup,\"color\":color});}};useEffect(function(){if(colorstatus.current==true){setsettingprofile(cachesetting);localStorage.setItem(\"setting\",JSON.stringify(cachesetting));}colorstatus.current=true;},[color]);useEffect(function(){if(groupinsetting.includes(selectedgroup)){setcolor(cachesetting.group.filter(function(i){return i.name==selectedgroup;})[0].color);}},[selectedgroup]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Menu,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"groupsetting\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Group Setting\"}),/*#__PURE__*/_jsx(\"h3\",{id:\"groupsetting\",children:\"Edit Color\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"changecolor\",children:[/*#__PURE__*/_jsx(\"input\",{list:\"grouplist\",id:\"changegroup\",value:selectedgroup,onChange:ChangeGroup}),/*#__PURE__*/_jsx(\"datalist\",{id:\"grouplist\",children:grouplist.map(function(d){return/*#__PURE__*/_jsx(\"option\",{value:d});})}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",id:\"inputcolor\",value:color,onChange:Changecolor})]}),JSON.stringify(settingprofile)]})]});};export default GroupSetting;","map":{"version":3,"names":["useDebugValue","useEffect","useRef","useState","Menu","jsx","_jsx","jsxs","_jsxs","GroupSetting","_ref","data","setData","settingprofile","setsettingprofile","rerenderStatus","colorstatus","localStorage","getItem","JSON","parse","current","setItem","stringify","cachesetting","Object","grouplist","map","item","group","_useState","_useState2","_slicedToArray","selectedgroup","setselectedgroup","groupinsetting","d","name","ChangeGroup","e","target","value","_useState3","_useState4","color","setcolor","Changecolor","indexofgroup","indexOf","push","includes","filter","i","className","children","id","list","onChange","type"],"sources":["D:/documents/js/time-management-tool/src/pages/group/groupsetting.js"],"sourcesContent":["import { useDebugValue, useEffect, useRef, useState } from \"react\";\r\nimport Menu from \"../menu\";\r\n\r\nconst GroupSetting = ({ data, setData, settingprofile, setsettingprofile, rerenderStatus, colorstatus }) => {\r\n\r\n    useEffect(()=> {\r\n        if (localStorage.getItem(\"user\") != null) {\r\n            setData(JSON.parse(localStorage.getItem(\"user\")))\r\n        }\r\n    }, [\"a\"])\r\n\r\n    useEffect(()=> {\r\n        if (rerenderStatus.current == false) {\r\n            return;\r\n        } else {\r\n            localStorage.setItem('user', JSON.stringify(data));\r\n            rerenderStatus.current = false; \r\n        }\r\n    }, [data]);\r\n\r\n    useEffect(()=>{\r\n        if (localStorage.getItem(\"setting\") != null ) {\r\n            setsettingprofile(JSON.parse(localStorage.getItem(\"setting\")));\r\n        }\r\n    },[\"a\"])\r\n\r\n    \r\n\r\n    let cachesetting = new Object(settingprofile);\r\n    let grouplist = data.map((item)=>   item.group    );\r\n    const [selectedgroup, setselectedgroup] = useState(\"\");\r\n    let groupinsetting = cachesetting.group.map((d)=>d.name);\r\n    const ChangeGroup = (e) => {\r\n        setselectedgroup(e.target.value);\r\n    }\r\n\r\n    const [color, setcolor] = useState(\"#ffffff\");\r\n    const Changecolor = (e) => {\r\n        setcolor(e.target.value);\r\n        let indexofgroup = groupinsetting.indexOf(selectedgroup);\r\n        if (indexofgroup != -1) {\r\n            cachesetting.group[indexofgroup].color = color;\r\n        } else {\r\n            cachesetting.group.push({\r\n                \"name\": selectedgroup,\r\n                \"color\": color,\r\n            })\r\n        }\r\n    }\r\n\r\n    \r\n\r\n   useEffect(()=>{\r\n        if (colorstatus.current == true) {\r\n            setsettingprofile(cachesetting);\r\n            localStorage.setItem(\"setting\", JSON.stringify(cachesetting));\r\n        }\r\n        \r\n        colorstatus.current = true;\r\n    \r\n   }, [color])\r\n\r\n   useEffect(()=>{\r\n    if (groupinsetting.includes(selectedgroup)) {\r\n        setcolor(cachesetting.group.filter(i=>i.name==selectedgroup)[0].color);\r\n        }\r\n   },[selectedgroup])\r\n   \r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <Menu/>\r\n            <div className=\"groupsetting\">\r\n                <h1>Group Setting</h1>\r\n                <h3 id=\"groupsetting\">Edit Color</h3>\r\n                <div className=\"changecolor\">\r\n                    <input list=\"grouplist\" id=\"changegroup\" value={selectedgroup} onChange={ChangeGroup} />\r\n                    <datalist id=\"grouplist\">\r\n                    {grouplist.map((d)=> {\r\n                        return (\r\n                            <option value={d} />\r\n                        )\r\n                    })}\r\n                    </datalist>\r\n                    <input type=\"color\" id=\"inputcolor\" value={color} onChange={Changecolor} />\r\n                </div>\r\n                {JSON.stringify(settingprofile)}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default GroupSetting;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}